<div class="page-wrapper questionnaire-wrapper">
  <form [formGroup]="questionnaireGroup" class="content-wrapper">
    <div class="content-container">
      <h2>{{ questionnaire.title }}</h2>
      <div class="progress-bar-wrapper">
        <div class="label">
          {{ currentQuestionIndex + '/' + questionnaire.questions.length }}
        </div>
        <mat-progress-bar
          mode="determinate"
          color="accent"
          [value]="(currentQuestionIndex / questionnaire.questions.length) * 100"
        ></mat-progress-bar>
      </div>
      <div class="questions-wrapper">
        <div
          class="question-container"
          *ngFor="let question of questionnaire.questions"
        >
          <app-question [question]="question" (controlInit)="controlInit($event,question.id)"></app-question>
        </div>
      </div>
    </div>
    <button
      mat-raised-button
      color="accent"
      class="next-button"
      type="submit"
      (click)="onNextPage()"
      routerLink="../obsolescence-preview"
    >
      Продължи
    </button>
  </form>
</div>
